(this.webpackJsonpreact_p=this.webpackJsonpreact_p||[]).push([[0],{100:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},126:function(e,t,n){},131:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(62),a=n.n(s),i=(n(70),n(4)),r=n(31),o=n.n(r),j=(n(100),n(30),n(133)),m=n(0),l=function(e){var t=e.userName,n=e.socket,s=Object(c.useState)(""),a=Object(i.a)(s,2),r=a[0],o=a[1];return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{className:"ChatInput-form",onSubmit:function(e){e.preventDefault(),n.emit("onSend",{userName:t||sessionStorage.getItem("userName"),msg:r,timeStamp:(new Date).toLocaleTimeString()}),o("")},children:[Object(m.jsx)("input",{type:"text",className:"form-control",placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694.",value:r,onChange:function(e){o(e.target.value)}}),Object(m.jsx)(j.a,{type:"button",className:"btn btn-warning btn-sm",children:"\uc804\uc1a1"})]})})},u=n(20),b=(n(102),function(e){var t=e.userName,n=e.socket,s=Object(c.useState)([]),a=Object(i.a)(s,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){return n.on("onReceive",(function(e){(t=t||sessionStorage.getItem("userName"))===e.userName?o((function(t){return[].concat(Object(u.a)(t),[{myMsg:e.msg,timeStamp:e.timeStamp}])})):o((function(t){return[].concat(Object(u.a)(t),[e])})),console.log(e),console.log(t)})),n.on("onConnect",(function(e){o((function(t){return[].concat(Object(u.a)(t),[{sysMsg:e}])}))})),n.on("onDisconnect",(function(e){o((function(t){return[].concat(Object(u.a)(t),[{sysMsg:e}])}))})),function(){n.disconnect()}}),[n]),Object(m.jsx)("div",{children:r.map((function(e,t){return Object(m.jsxs)("div",{children:[e.userName&&Object(m.jsx)("div",{className:"msg-userName",children:e.userName}),e.msg&&Object(m.jsxs)("div",{className:"msgLeft",children:[Object(m.jsx)("span",{className:"msg-msg",children:e.msg}),Object(m.jsxs)("span",{className:"msg-timeStamp",children:["(",e.timeStamp,")"]})]}),e.myMsg&&Object(m.jsxs)("div",{className:"msgRight",children:[Object(m.jsxs)("span",{className:"msg-timeStamp",children:["(",e.timeStamp,")"]}),Object(m.jsx)("span",{className:"msg-msg",children:e.myMsg})]}),Object(m.jsx)("div",{className:"sysMsg",children:e.sysMsg})]},t)}))})}),d=function(){return console.log("loading"),Object(m.jsx)("div",{children:"Loading"})},h=(n(103),function(e){var t=e.socket,n=Object(c.useState)(),s=Object(i.a)(n,2),a=s[0],r=s[1];return Object(c.useEffect)((function(){return t.on("UserList",(function(e){r(e)})),function(){t.disconnect()}}),[t]),Object(m.jsx)("div",{children:null===a||void 0===a?void 0:a.map((function(e){return Object(m.jsxs)("div",{id:"userList",children:[Object(m.jsx)("span",{className:"userIcon",children:Object(m.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.icon.toString()),height:"50",width:"50",className:"icon"})}),Object(m.jsxs)("span",{className:"userInfo",children:[Object(m.jsx)("div",{className:"id",children:e.id}),Object(m.jsx)("div",{className:"room",children:e.room})]})]})}))})}),O=(n(104),function(e){var t=e.roomName,n=e.userName,s=e.icon,a={roomName:t||sessionStorage.getItem("roomName"),userName:n||sessionStorage.getItem("userName"),icon:s||sessionStorage.getItem("icon")},r=Object(c.useState)(o()()),j=Object(i.a)(r,2),u=j[0],O=j[1];return Object(c.useEffect)((function(){O(o()("http://localhost:80"))}),[]),u&&u.on("connect",(function(){u.emit("join",a)})),Object(m.jsx)("div",{children:u?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{id:"Chat-container",children:[Object(m.jsxs)("span",{className:"Chat-box ChatLog",children:[Object(m.jsx)("div",{className:"ChatLog-top",children:Object(m.jsx)(b,{userName:n,socket:u})}),Object(m.jsx)("div",{className:"ChatInput",children:Object(m.jsx)(l,{userName:n,socket:u})})]}),Object(m.jsx)("span",{className:"Chat-box UserList",children:Object(m.jsx)(h,{socket:u})})]})}):Object(m.jsx)(d,{})})}),g=(n(105),n.p+"static/media/gamer_boy.d258cc40.png"),x=n.p+"static/media/gamer_girl.53c77887.png",p=[{value:"gamer_keyboard.png",src:n.p+"static/media/gamer_keyboard.14fd4540.png"},{value:"gamer_woman.png",src:n.p+"static/media/gamer_woman.22383467.png"},{value:"gamer_boy.png",src:g},{value:"gamer_girl.png",src:x},{value:"man_icon.png",src:n.p+"static/media/man_icon.5dbc57fb.png"},{value:"woman_icon.png",src:n.p+"static/media/woman_icon.d33e7b33.png"}],f=function(e){var t=e.userName,n=e.setUserName,c=e.icon,s=e.setIcon,a=function(e){s(e.target.value)};return sessionStorage.setItem("userName",t),sessionStorage.setItem("icon",c),Object(m.jsxs)("div",{className:"Home-container",children:[Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"ID"})}),Object(m.jsx)("input",{onChange:function(e){n(e.target.value)}}),Object(m.jsx)("div",{className:"icon-container",children:p.map((function(e){var t=e.value,n=e.src;return Object(m.jsxs)("span",{className:"icon",children:[Object(m.jsx)("input",{type:"radio",name:"icon",value:t,onChange:a,className:"icon-input"}),Object(m.jsx)("img",{src:n,width:"50",height:"50",className:"icon-img"})]})}))}),Object(m.jsx)("div",{className:"Join-button",children:Object(m.jsx)("a",{className:"btn btn-dark",href:"/RoomList",children:Object(m.jsx)("b",{children:"\ub85c\uadf8\uc778"})})})]})},N=n(33),v=n.n(N),S=n(63),C=(n(107),n(108),function(e){var t=e.open,n=e.close,c=e.header;return Object(m.jsx)("div",{className:t?"openModal modal":"modal",children:t?Object(m.jsxs)("section",{children:[Object(m.jsxs)("header",{children:[c,Object(m.jsx)("button",{className:"close",onClick:n,children:" \xd7 "})]}),Object(m.jsx)("main",{children:e.children}),Object(m.jsx)("footer",{children:Object(m.jsx)("a",{className:"btn btn-primary",href:"/Chat",children:Object(m.jsx)("b",{children:"\ubc29 \ub9cc\ub4e4\uae30"})})})]}):null})}),y=n(64),I=n.n(y),k=function(e){var t=e.userName,n=e.roomName,s=e.setRoomName,a=Object(c.useState)(!1),r=Object(i.a)(a,2),o=r[0],j=r[1];function l(){return(l=Object(S.a)(v.a.mark((function e(){var c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||sessionStorage.getItem("userName"),c={id:n,password:"",owner_id:t},e.next=4,I.a.post("/RoomList/insert",{roomInfo:c});case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return sessionStorage.setItem("roomName",n),Object(m.jsxs)("div",{className:"RoomList-container",children:[Object(m.jsxs)("div",{className:"makeRoom-box",children:[Object(m.jsx)("a",{className:"btn btn-primary btn-sm makeRoom",onClick:function(){j(!0)},children:Object(m.jsx)("b",{children:"\ubc29 \ub9cc\ub4e4\uae30"})}),Object(m.jsxs)(C,{open:o,close:function(){j(!1)},header:"\ubc29 \ub9cc\ub4e4\uae30",children:[Object(m.jsx)("label",{children:Object(m.jsx)("b",{children:"\ubc29 \uc81c\ubaa9"})}),Object(m.jsx)("input",{onChange:function(e){s(e.target.value)}}),function(){return l.apply(this,arguments)}]})]}),Object(m.jsx)("div",{className:"RoomList",children:"\ubc29 \ubaa9\ub85d..."}),Object(m.jsx)("div",{className:"Join-button",children:Object(m.jsx)("a",{className:"btn btn-dark",href:"/Chat",children:Object(m.jsx)("b",{children:"\uc785\uc7a5\ud558\uae30"})})})]})},L=(n(126),n(24)),_=n(3);var w=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(),r=Object(i.a)(a,2),o=r[0],j=r[1],l=Object(c.useState)(),u=Object(i.a)(l,2),b=u[0],d=u[1];return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(L.a,{children:Object(m.jsxs)(_.c,{children:[Object(m.jsx)(_.a,{path:"/",exact:!0,children:Object(m.jsx)(f,{userName:n,setUserName:s,icon:b,setIcon:d})}),Object(m.jsx)(_.a,{path:"/RoomList",exact:!0,children:Object(m.jsx)(k,{userName:n,roomName:o,setRoomName:j})}),Object(m.jsx)(_.a,{path:"/Chat",exact:!0,render:function(){return Object(m.jsx)(O,{userName:n,roomName:o,icon:b})}}),Object(m.jsx)(_.a,{render:function(e){var t=e.location;return Object(m.jsxs)("div",{children:["Not Found ",t.pathname]})}})]})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};a.a.render(Object(m.jsx)(L.a,{children:Object(m.jsx)(w,{})}),document.getElementById("root")),R()},70:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.b0b58411.chunk.js.map