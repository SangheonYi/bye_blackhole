{"ast":null,"code":"import _toConsumableArray from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var UserList=function UserList(_ref){var socket=_ref.socket;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];useEffect(function(){console.log('test...................');socket.on(\"UserList\",function(newUser){//setUserList((userList) => [...userList, {newUser}]);\nconsole.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!');console.log(newUser);});socket.on(\"UserList\",function(newUser){setMsgList(function(msgList){return[].concat(_toConsumableArray(msgList),[{msg:systemMessage}]);});});return function(){socket.disconnect();};},[socket]);return/*#__PURE__*/_jsx(\"div\",{children:userList});};export default UserList;","map":{"version":3,"sources":["/Users/jinkim/bye_blackhole/app/react_p/src/Chat/UserList.tsx"],"names":["React","useEffect","useState","UserList","socket","userList","setUserList","console","log","on","newUser","setMsgList","msgList","msg","systemMessage","disconnect"],"mappings":"oUAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,C,2CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAqB,IAAlBC,CAAAA,MAAkB,MAAlBA,MAAkB,eACLF,QAAQ,CAAQ,EAAR,CADH,wCAC9BG,QAD8B,eACpBC,WADoB,eAGrCL,SAAS,CAAC,UAAM,CACdM,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACAJ,MAAM,CAACK,EAAP,CAAU,UAAV,CAAsB,SAACC,OAAD,CAAoB,CAC3C;AACAH,OAAO,CAACC,GAAR,CAAY,+CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYE,OAAZ,EACE,CAJD,EAMAN,MAAM,CAACK,EAAP,CAAU,UAAV,CAAsB,SAACC,OAAD,CAAiB,CACxCC,UAAU,CAAC,SAACC,OAAD,qCAAiBA,OAAjB,GAA0B,CAAEC,GAAG,CAAEC,aAAP,CAA1B,IAAD,CAAV,CACE,CAFD,EAIA,MAAO,WAAM,CACdV,MAAM,CAACW,UAAP,GACE,CAFD,CAGD,CAfQ,CAeN,CAACX,MAAD,CAfM,CAAT,CAiBA,mBACC,qBACCC,QADD,EADD,CAKE,CAzBH,CA0BE,cAAeF,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nconst UserList = ({ socket }: any) => {\n\tconst [userList, setUserList] = useState<any[]>([]);\n\n\tuseEffect(() => {\n\t  console.log('test...................')\n\t  socket.on(\"UserList\", (newUser: any[]) => {\n\t\t//setUserList((userList) => [...userList, {newUser}]);\n\t\tconsole.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!')\n\t\tconsole.log(newUser);\n\t  });\n\n\t  socket.on(\"UserList\", (newUser: {}) => {\n\t\tsetMsgList((msgList) => [...msgList, { msg: systemMessage } as never]);\n\t  });\n\n\t  return () => {\n\t\tsocket.disconnect();\n\t  };\n\t}, [socket]);\n\n\treturn (\n\t\t<div>\n\t\t{userList}\n\t  </div>\n\t);\n  };\n  export default UserList;\n"]},"metadata":{},"sourceType":"module"}