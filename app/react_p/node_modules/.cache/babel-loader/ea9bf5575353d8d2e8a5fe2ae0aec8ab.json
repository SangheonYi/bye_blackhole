{"ast":null,"code":"import _regeneratorRuntime from\"/goinfre/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/goinfre/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/goinfre/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./styles/RoomList.css\";import'bootstrap/dist/css/bootstrap.min.css';import Modal from'./Modal';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RoomList=function RoomList(_ref){var userName=_ref.userName,roomName=_ref.roomName,setRoomName=_ref.setRoomName;var handleRoomNameChange=function handleRoomNameChange(e){setRoomName(e.target.value);};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var openModal=function openModal(){setModalOpen(true);};var closeModal=function closeModal(){setModalOpen(false);};sessionStorage.setItem(\"roomName\",roomName);//const [roomInfo, setRoomInfo] = useState<{id:string, password:string, owner_id:string}>();\nfunction makeRoom(){return _makeRoom.apply(this,arguments);}function _makeRoom(){_makeRoom=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var roomInfo,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userName=userName?userName:sessionStorage.getItem(\"userName\");roomInfo={id:roomName,password:\"\",owner_id:userName};_context.next=4;return axios.post('/RoomList/insert',{roomInfo:roomInfo});case 4:res=_context.sent;case 5:case\"end\":return _context.stop();}}},_callee);}));return _makeRoom.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"RoomList-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"makeRoom-box\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary btn-sm makeRoom\",onClick:openModal,children:/*#__PURE__*/_jsx(\"b\",{children:\"\\uBC29 \\uB9CC\\uB4E4\\uAE30\"})}),/*#__PURE__*/_jsxs(Modal,{open:modalOpen,close:closeModal,header:\"\\uBC29 \\uB9CC\\uB4E4\\uAE30\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"\\uBC29 \\uC81C\\uBAA9\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:handleRoomNameChange}),makeRoom]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"RoomList\",children:\"\\uBC29 \\uBAA9\\uB85D...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Join-button\",children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-dark\",href:\"/Chat\",children:/*#__PURE__*/_jsx(\"b\",{children:\"\\uC785\\uC7A5\\uD558\\uAE30\"})})})]});};export default RoomList;","map":{"version":3,"sources":["/goinfre/jinkim/bye_blackhole/app/react_p/src/Chat/RoomList.tsx"],"names":["React","useState","Modal","axios","RoomList","userName","roomName","setRoomName","handleRoomNameChange","e","target","value","modalOpen","setModalOpen","openModal","closeModal","sessionStorage","setItem","makeRoom","getItem","roomInfo","id","password","owner_id","post","res"],"mappings":"6dAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,uBAAP,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAQA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAiD,IAA9CC,CAAAA,QAA8C,MAA9CA,QAA8C,CAApCC,QAAoC,MAApCA,QAAoC,CAA1BC,WAA0B,MAA1BA,WAA0B,CAChE,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,CAAD,CAAW,CACtCF,WAAW,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAFD,CADgE,cAK9BV,QAAQ,CAAC,KAAD,CALsB,wCAKzDW,SALyD,eAK9CC,YAL8C,eAMhE,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACzBD,YAAY,CAAC,IAAD,CAAZ,CACE,CAFD,CAGA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC1BF,YAAY,CAAC,KAAD,CAAZ,CACE,CAFD,CAIAG,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAmCX,QAAnC,EAEA;AAfgE,QAiBjDY,CAAAA,QAjBiD,kIAiBhE,oJACCb,QAAQ,CAAGA,QAAQ,CAAGA,QAAH,CAAcW,cAAc,CAACG,OAAf,CAAuB,UAAvB,CAAjC,CACMC,QAFP,CAEkB,CAACC,EAAE,CAACf,QAAJ,CAAcgB,QAAQ,CAAC,EAAvB,CAA2BC,QAAQ,CAAClB,QAApC,CAFlB,uBAImBF,CAAAA,KAAK,CAACqB,IAAN,CAAW,kBAAX,CAA+B,CAACJ,QAAQ,CAARA,QAAD,CAA/B,CAJnB,QAIOK,GAJP,qEAjBgE,2CAyBhE,mBACE,aAAK,SAAS,CAAC,oBAAf,wBACF,aAAK,SAAS,CAAC,cAAf,wBACC,UAAG,SAAS,CAAC,iCAAb,CAA+C,OAAO,CAAEX,SAAxD,uBAAmE,gDAAnE,EADD,cAEC,MAAC,KAAD,EAAO,IAAI,CAAEF,SAAb,CAAwB,KAAK,CAAEG,UAA/B,CAA2C,MAAM,CAAC,2BAAlD,wBACC,oCAAQ,0CAAR,EADD,cAEC,cAAO,QAAQ,CAAEP,oBAAjB,EAFD,CAGEU,QAHF,GAFD,GADE,cAUF,YAAK,SAAS,CAAC,UAAf,oCAVE,cAaF,YAAK,SAAS,CAAC,aAAf,uBACC,UAAG,SAAS,CAAC,cAAb,CAA4B,IAAI,CAAC,OAAjC,uBAAyC,+CAAzC,EADD,EAbE,GADF,CAmBD,CA5CD,CA8CA,cAAed,CAAAA,QAAf","sourcesContent":["import React, {useState} from \"react\";\nimport \"./styles/RoomList.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Modal from './Modal';\nimport axios from 'axios';\n\ninterface HomeObj{\n\tuserName:any,\n\troomName:any,\n\tsetRoomName:(value:any)=>void,\n}\n\nconst RoomList = ({ userName, roomName, setRoomName}: HomeObj) => {\n  const handleRoomNameChange = (e:any) => {\n    setRoomName(e.target.value);\n  };\n\n  const [modalOpen, setModalOpen] = useState(false);\n  const openModal = () => {\n\tsetModalOpen(true);\n  }\n  const closeModal = () => {\n\tsetModalOpen(false);\n  }\n\n  sessionStorage.setItem(\"roomName\", roomName);\n\n  //const [roomInfo, setRoomInfo] = useState<{id:string, password:string, owner_id:string}>();\n\n  async function makeRoom(){\n\t  userName = userName ? userName : sessionStorage.getItem(\"userName\")\n\t  const roomInfo = {id:roomName, password:\"\", owner_id:userName}\n\n\t  const res = await axios.post('/RoomList/insert', {roomInfo});\n\t  //setRoomInfo(res.data.roomInfo)\n  }\n\n  return (\n    <div className=\"RoomList-container\">\n\t\t<div className=\"makeRoom-box\">\n\t\t\t<a className=\"btn btn-primary btn-sm makeRoom\" onClick={openModal}><b>방 만들기</b></a>\n\t\t\t<Modal open={modalOpen} close={closeModal} header=\"방 만들기\">\n\t\t\t\t<label ><b>방 제목</b></label>\n\t\t\t\t<input onChange={handleRoomNameChange}></input>\n\t\t\t\t{makeRoom}\n\t\t\t</Modal>\n\t\t</div>\n\n\t\t<div className=\"RoomList\">\n\t\t\t방 목록...\n\t\t</div>\n\t\t<div className=\"Join-button\">\n\t\t\t<a className=\"btn btn-dark\" href=\"/Chat\"><b>입장하기</b></a>\n\t\t</div>\n    </div>\n  );\n};\n\nexport default RoomList;"]},"metadata":{},"sourceType":"module"}