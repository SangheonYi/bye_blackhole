{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./ChatInput.css\";import'bootstrap/dist/css/bootstrap.min.css';import{Button}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatInput=function ChatInput(_ref){var userName=_ref.userName,socket=_ref.socket;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),chatMessage=_useState2[0],setChatMessage=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.t0=socket;if(!userName){_context.next=6;break;}_context.t1=userName;_context.next=9;break;case 6:_context.next=8;return localStorage.getItem(\"userName\");case 8:_context.t1=_context.sent;case 9:_context.t2=_context.t1;_context.t3=chatMessage;_context.t4=new Date().toLocaleTimeString();_context.t5={userName:_context.t2,msg:_context.t3,timeStamp:_context.t4};_context.t0.emit.call(_context.t0,\"onSend\",_context.t5);setChatMessage(\"\");case 15:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var onChatMessageChange=function onChatMessageChange(e){setChatMessage(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"ChatInput-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"\\uBA54\\uC2DC\\uC9C0\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",value:chatMessage,onChange:onChatMessageChange}),/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn btn-warning btn-sm\",children:\"\\uC804\\uC1A1\"})]})});};export default ChatInput;","map":{"version":3,"sources":["/Users/jinkim/bye_blackhole/app/react_p/src/Chat/ChatInput.tsx"],"names":["React","useState","Button","ChatInput","userName","socket","chatMessage","setChatMessage","handleSubmit","e","preventDefault","localStorage","getItem","Date","toLocaleTimeString","msg","timeStamp","emit","onChatMessageChange","target","value"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAwBC,QAAxB,KAAwC,OAAxC,CAEA,MAAO,iBAAP,CACA,MAAO,sCAAP,CACA,OAAQC,MAAR,KAAqB,iBAArB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAA+B,IAA5BC,CAAAA,QAA4B,MAA5BA,QAA4B,CAAlBC,MAAkB,MAAlBA,MAAkB,eACTJ,QAAQ,CAAC,EAAD,CADC,wCACxCK,WADwC,eAC3BC,cAD2B,eAG/C,GAAMC,CAAAA,YAAY,2FAAG,iBAAMC,CAAN,kHACnBA,CAAC,CAACC,cAAF,GADmB,YAEnBL,MAFmB,KAGPD,QAHO,qCAGIA,QAHJ,oDAGqBO,CAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,CAHrB,6EAIZN,WAJY,aAKN,GAAIO,CAAAA,IAAJ,GAAWC,kBAAX,EALM,cAGjBV,QAHiB,aAIjBW,GAJiB,aAKjBC,SALiB,0BAEZC,IAFY,kBAEP,QAFO,cAOnBV,cAAc,CAAC,EAAD,CAAd,CAPmB,uDAAH,kBAAZC,CAAAA,YAAY,6CAAlB,CAUA,GAAMU,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACT,CAAD,CAAW,CACrCF,cAAc,CAACE,CAAC,CAACU,MAAF,CAASC,KAAV,CAAd,CACD,CAFD,CAIA,mBACE,kCACE,cAAM,SAAS,CAAC,gBAAhB,CAAiC,QAAQ,CAAEZ,YAA3C,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,cAA7B,CACE,WAAW,CAAC,0DADd,CAEE,KAAK,CAAEF,WAFT,CAGE,QAAQ,CAAEY,mBAHZ,EADF,cAME,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,wBAAhC,0BANF,GADF,EADF,CAYD,CA7BD,CA+BA,cAAef,CAAAA,SAAf","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport socketIOClient from \"socket.io-client\";\nimport \"./ChatInput.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {Button} from \"react-bootstrap\";\n\nconst ChatInput = ({ userName, socket }: any) => {\n  const [chatMessage, setChatMessage] = useState(\"\");\n\n  const handleSubmit = async(e:any) => {\n    e.preventDefault();\n    socket.emit(\"onSend\", {\n      userName: userName ? userName : await localStorage.getItem(\"userName\"),\n      msg: chatMessage,\n      timeStamp: new Date().toLocaleTimeString(),\n    });\n    setChatMessage(\"\");\n  };\n\n  const onChatMessageChange = (e:any) => {\n    setChatMessage(e.target.value);\n  };\n\n  return (\n    <div>\n      <form className=\"ChatInput-form\" onSubmit={handleSubmit}>\n        <input type=\"text\" className=\"form-control\"\n          placeholder=\"메시지를 입력하세요.\"\n          value={chatMessage}\n          onChange={onChatMessageChange}\n        ></input>\n        <Button type=\"button\" className=\"btn btn-warning btn-sm\">전송</Button>\n      </form>\n    </div>\n  );\n};\n\nexport default ChatInput;"]},"metadata":{},"sourceType":"module"}