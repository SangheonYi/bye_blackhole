{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jinkim/bye_blackhole/app/react_p/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./UserList.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserList=function UserList(_ref){var socket=_ref.socket;var _useState=useState(),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=useState({data:\"\"}),_useState4=_slicedToArray(_useState3,2),iconImg=_useState4[0],setIconImg=_useState4[1];useEffect(function(){socket.on(\"UserList\",function(newUser){setUserList(newUser);});return function(){socket.disconnect();};},[socket]);function decondeBase64(_x){return _decondeBase.apply(this,arguments);}function _decondeBase(){_decondeBase=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(base64data){var base64ToString;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Buffer.from(base64data.data,\"base64\").toString();case 2:base64ToString=_context.sent;console.log('base64!!!!!!!!!!!!!!!!!!!!!!!');console.log(base64ToString);setIconImg({data:base64ToString});case 6:case\"end\":return _context.stop();}}},_callee);}));return _decondeBase.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:userList===null||userList===void 0?void 0:userList.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"userList\",children:[decondeBase64(user.icon),/*#__PURE__*/_jsx(\"img\",{src:\"data:image/jpeg;base64,\".concat(iconImg)}),/*#__PURE__*/_jsx(\"div\",{className:\"id\",children:user.id}),/*#__PURE__*/_jsx(\"div\",{className:\"room\",children:user.room})]});})});};export default UserList;","map":{"version":3,"sources":["/Users/jinkim/bye_blackhole/app/react_p/src/Chat/UserList.tsx"],"names":["React","useEffect","useState","UserList","socket","userList","setUserList","data","iconImg","setIconImg","on","newUser","disconnect","decondeBase64","base64data","Buffer","from","toString","base64ToString","console","log","map","user","icon","id","room"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,gBAAP,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAqB,IAAlBC,CAAAA,MAAkB,MAAlBA,MAAkB,eACLF,QAAQ,EADH,wCAC9BG,QAD8B,eACpBC,WADoB,8BAEPJ,QAAQ,CAAiB,CAACK,IAAI,CAAC,EAAN,CAAjB,CAFD,yCAE9BC,OAF8B,eAErBC,UAFqB,eAIrCR,SAAS,CAAC,UAAM,CACdG,MAAM,CAACM,EAAP,CAAU,UAAV,CAAsB,SAACC,OAAD,CAAoD,CAE3EL,WAAW,CAACK,OAAD,CAAX,CACE,CAHD,EAKA,MAAO,WAAM,CACdP,MAAM,CAACQ,UAAP,GACE,CAFD,CAGD,CATQ,CASN,CAACR,MAAD,CATM,CAAT,CAJqC,QAetBS,CAAAA,aAfsB,6IAerC,iBAA6BC,UAA7B,2JAC4BC,CAAAA,MAAM,CAACC,IAAP,CAAYF,UAAU,CAACP,IAAvB,CAA6B,QAA7B,EAAuCU,QAAvC,EAD5B,QACKC,cADL,eAECC,OAAO,CAACC,GAAR,CAAY,+BAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,cAAZ,EACAT,UAAU,CAAC,CAACF,IAAI,CAAEW,cAAP,CAAD,CAAV,CAJD,sDAfqC,8CAsBrC,mBACC,qBACCb,QADD,SACCA,QADD,iBACCA,QAAQ,CAAEgB,GAAV,CAAc,SAAAC,IAAI,qBAClB,aAAK,SAAS,CAAC,UAAf,WACET,aAAa,CAACS,IAAI,CAACC,IAAN,CADf,cAEC,YAAK,GAAG,kCAA4Bf,OAA5B,CAAR,EAFD,cAGC,YAAK,SAAS,CAAC,IAAf,UAAqBc,IAAI,CAACE,EAA1B,EAHD,cAIC,YAAK,SAAS,CAAC,MAAf,UAAuBF,IAAI,CAACG,IAA5B,EAJD,GADkB,EAAlB,CADD,EADD,CAYE,CAlCH,CAmCE,cAAetB,CAAAA,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./UserList.css\"\n\nconst UserList = ({ socket }: any) => {\n\tconst [userList, setUserList] = useState<{id: string, room: string, icon:any}[]>();\n\tconst [iconImg, setIconImg] = useState<{data: string}>({data:\"\"});\n\n\tuseEffect(() => {\n\t  socket.on(\"UserList\", (newUser:{id: string, room: string, icon:any}[]) => {\n\n\t\tsetUserList(newUser);\n\t  });\n\n\t  return () => {\n\t\tsocket.disconnect();\n\t  };\n\t}, [socket]);\n\n\tasync function decondeBase64(base64data: {data: string}){\n\t\tlet base64ToString = await Buffer.from(base64data.data, \"base64\").toString()\n\t\tconsole.log('base64!!!!!!!!!!!!!!!!!!!!!!!')\n\t\tconsole.log(base64ToString)\n\t\tsetIconImg({data: base64ToString})\n\t}\n\n\treturn (\n\t\t<div>\n\t\t{userList?.map(user=>\n\t\t\t<div className=\"userList\">\n\t\t\t\t{decondeBase64(user.icon)}\n\t\t\t\t<img src={`data:image/jpeg;base64,${iconImg}`} />\n\t\t\t\t<div className=\"id\">{user.id}</div>\n\t\t\t\t<div className=\"room\">{user.room}</div>\n\t\t\t</div>\n\t\t)}\n\t\t</div>\n\t);\n  };\n  export default UserList;\n"]},"metadata":{},"sourceType":"module"}